function resize_delivery_content(){var e=$("ul#delivery-tabs").data("tabs");"undefined"!=typeof e&&$("#delivery-panes").animate({height:e.getCurrentPane().height()},300)}function show_jgrowl_message(e,t,a){$.jGrowl(e,{position:"center",theme:t,sticky:a})}Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=a.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var r,i,l=[];for(r in n)e.call(n,r)&&l.push(r);if(t)for(i=0;o>i;i++)e.call(n,a[i])&&l.push(a[i]);return l}}()),$.easing.drop=function(e,t,a,o,n){return-o*(Math.sqrt(1-(t/=n)*t)-1)+a},$.tools.overlay.addEffect("slide",function(e,t){var a=this.getOverlay();e.top+=$(window).scrollTop(),e.left=-1*a.width()-30,e.position="absolute",a.css(e).show(),a.animate({left:($(window).width()-a.width())/2,opacity:1},400,"drop",t)},function(e){this.getOverlay().animate({left:-9999,opacity:0},500,"drop",function(){$(this).hide(),e.call()})}),$(document).ready(function(){function e(e){var t=app.faceplate.get("carousel_selected_fp_code"),a=$('input[name="from_name"]').val(),o=$('input[name="name"]').val(),n=$('textarea[name="message"]').val(),r=$('input[name="amount"]').val();return url=$(e).attr("href"),url+="?faceplate_code="+t,a&&""!==a&&(url+="&from_name="+encodeURIComponent(a)),o&&""!==o&&(url+="&recipient_name="+encodeURIComponent(o)),n&&""!==n&&(url+="&message="+encodeURIComponent(n)),r&&""!==r&&(url+="&amount="+encodeURIComponent(r)+".00"),url}window.tactileLoaded=!1,navigator.userAgent.match(/iPhone/i)||$(".iphone-disabled").removeClass("iphone-disabled"),$(".hidden_field").hide(),jsonData.reset&&$(jsonData.resetFields).val("");var t=$("#name, #message, #from_name, #email, #home_email, #home_name");t.placeholder(),t.focus(function(){var e=this;$(e).removeClass("placeholder")});var a=$("#faceplate").data("text-color"),o="WHITE"===a?"text-white":"text-black";$("#message").addClass(o);var n=function(e){if(e=parseInt(e),e>=jsonData.max_transaction_amount){$("#order-add-another").hide();var t={currency_symbol:jsonData.currency_symbol,max_transaction_amount:jsonData.max_transaction_amount,currency_code:jsonData.currency};$(".amount-header").text(gettext("You have reached the cart maximum. Please check out."));var a;if(e===jsonData.max_transaction_amount)a=gettext("You have reached the maximum amount of %(currency_symbol)s%(max_transaction_amount)s %(currency_code)s for your order. Please check out.");else{gettext("You are trying to purchase over the maximum amount of %(currency_symbol)s%(max_transaction_amount)s %(currency_code)s for your order. Please check out.")}var o=interpolate(a,t,!0);return $("#amount-content, #amount-multipack").addClass("max-amount").html(o),show_jgrowl_message(o,"error",!0),!0}return!1};n(0+jsonData.cart_total),$("ul#delivery-tabs").tabs("div#delivery-panes > div",{fadeInSpeed:500,fadeOutSpeed:0,effect:"fade",onBeforeClick:function(e,t){this.getPanes().parent().animate({height:this.getPanes().parent().children("div").eq(t).height()},300)},onClick:function(e,t){this.getPanes().each(function(e){e==t?$(this).find("input[type=text]").removeClass("ignore-js-validate"):$(this).find("input[type=text]").addClass("ignore-js-validate")})}}),$("#email-delivery").click(function(){$("#email_delivery_radio").prop("checked",!0)}),$("#printathome-delivery").click(function(){$("#home_delivery_radio").prop("checked",!0)});var r=jsonData.delivery_type?jsonData.delivery_type:$("input:radio[name=delivery_type]:checked").val();"EM"==r?$("#email-delivery").click():"PH"==r&&$("#printathome-delivery").click(),$(".learn-overlay-trigger").overlay({mask:"#ccc",onBeforeLoad:function(){var e=this.getOverlay().find("#learn-overlay-content");e.load(this.getTrigger().attr("href"))},onBeforeClose:function(){$("#learn-overlay-content").empty()}}),$("#mobile-opt-link a").overlay({mask:"#ccc",onLoad:function(e){var t=this;trigger=this.getTrigger(),$("#mobile-link-yes").one("click",function(){$("#mobile-link-no").unbind("click"),location.assign(trigger.attr("href"))}),$("#mobile-link-no").one("click",function(){$("#mobile-link-yes").unbind("click"),t.close()})}}),$("#show-me").overlay({effect:"slide",mask:"rgba(204, 204, 204, 0.8)",onBeforeLoad:function(t){$("#how-tactile .how-visual").load(e($("#show-me")))},onBeforeClose:function(){$("#exposeMask").remove()},onClose:function(){$("#how-tactile .how-visual").empty()}}),$("#how-it-works-cta").overlay({effect:"slide",mask:"rgba(204, 204, 204, 0.8)"}),$("#calltoact").slideDown("fast"),$(function(){$("input, textarea").on("focus",function(){$(this).attr("placeholder")&&$(this).data("placeholder",$(this).attr("placeholder")).removeAttr("placeholder")}).on("blur",function(){$(this).data("placeholder")&&$(this).attr("placeholder",$(this).data("placeholder")).removeData("placeholder")})}),$(function(){$(".deliver-right").each(function(){var e=$(this).parent().height();$(this).height(e)})}),$("html").hasClass("ie8")||countMessage("#message",250)});